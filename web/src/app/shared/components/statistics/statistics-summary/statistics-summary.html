<div class="grid grid-cols-3 items-center gap-3">
  <z-card class="flex flex-col">
    <div class="flex items-center justify-between mb-6">
      <span class="text-[16px] font-medium text-muted-foreground">Income</span>
      <i-lucide [img]="BanknoteArrowUpIcon" class="size-5 text-muted-foreground" />
    </div>

    <span class="text-2xl font-semibold mt-2">+{{ totalIncome() | number: '1.2-2' }}€</span>

    <div class="flex items-end justify-between gap-1 mt-2">
      <div class="flex flex-wrap items-center gap-1">
        <z-badge
          class="text-sm"
          [class]="incomeChange() >= 0 ? 'text-income-foreground' : 'text-expense-foreground'"
          [zType]="incomeChange() >= 0 ? 'positive' : 'negative'"
        >
          <i-lucide
            [img]="incomeChange() >= 0 ? ArrowUpIcon : ArrowDownIcon"
            class="size-3"
            [class]="incomeChange() >= 0 ? 'text-income-foreground' : 'text-expense-foreground'"
          />
          {{ incomeChange() >= 0 ? '+' : '' }}{{ incomeChange() }}%</z-badge
        >
        <span class="text-sm text-muted-foreground">compared to {{ periodLabel() }}</span>
      </div>

      @if (incomeSparkline(); as spark) {
        <apx-chart
          class="shrink-0 -mb-1 -mr-2"
          [series]="spark.series!"
          [chart]="spark.chart!"
          [colors]="spark.colors!"
          [stroke]="spark.stroke!"
          [xaxis]="spark.xaxis!"
          [yaxis]="spark.yaxis!"
          [grid]="spark.grid!"
          [tooltip]="spark.tooltip!"
        />
      }
    </div>
  </z-card>

  <z-card class="flex flex-col">
    <div class="flex items-center justify-between mb-6">
      <span class="text-[16px] font-medium text-muted-foreground">Expenses</span>
      <i-lucide [img]="BanknoteArrowDownIcon" class="size-5 text-muted-foreground" />
    </div>

    <span class="text-2xl font-semibold mt-2">+{{ totalExpenses() | number: '1.2-2' }}€</span>

    <div class="flex items-end justify-between gap-1 mt-2">
      <div class="flex flex-wrap items-center gap-1">
        <z-badge
          class="text-sm"
          [class]="expensesChange() >= 0 ? 'text-income-foreground' : 'text-expense-foreground'"
          [zType]="expensesChange() >= 0 ? 'positive' : 'negative'"
        >
          <i-lucide
            [img]="expensesChange() >= 0 ? ArrowUpIcon : ArrowDownIcon"
            class="size-3"
            [class]="expensesChange() >= 0 ? 'text-income-foreground' : 'text-expense-foreground'"
          />
          {{ expensesChange() >= 0 ? '+' : '' }}{{ expensesChange() }}%</z-badge
        >
        <span class="text-sm text-muted-foreground">compared to {{ periodLabel() }}</span>
      </div>

      @if (expenseSparkline(); as spark) {
        <apx-chart
          class="shrink-0 -mb-1 -mr-2"
          [series]="spark.series!"
          [chart]="spark.chart!"
          [colors]="spark.colors!"
          [stroke]="spark.stroke!"
          [xaxis]="spark.xaxis!"
          [yaxis]="spark.yaxis!"
          [grid]="spark.grid!"
          [tooltip]="spark.tooltip!"
        />
      }
    </div>
  </z-card>

  <z-card class="flex flex-col">
    <div class="flex items-center justify-between mb-6">
      <span class="text-[16px] font-medium text-muted-foreground">Net Balance</span>
      <i-lucide [img]="WalletIcon" class="size-5 text-muted-foreground" />
    </div>

    <span class="text-2xl font-semibold mt-2">+{{ totalBalance() | number: '1.2-2' }}€</span>

    <div class="flex items-end justify-between gap-1 mt-2">
      <div class="flex flex-wrap items-center gap-1">
        <z-badge
          class="text-sm"
          [class]="balanceChange() >= 0 ? 'text-income-foreground' : 'text-expense-foreground'"
          [zType]="balanceChange() >= 0 ? 'positive' : 'negative'"
        >
          <i-lucide
            [img]="balanceChange() >= 0 ? ArrowUpIcon : ArrowDownIcon"
            class="size-3"
            [class]="balanceChange() >= 0 ? 'text-income-foreground' : 'text-expense-foreground'"
          />
          {{ balanceChange() >= 0 ? '+' : '' }}{{ balanceChange() }}%</z-badge
        >
        <span class="text-sm text-muted-foreground">compared to {{ periodLabel() }}</span>
      </div>

      @if (balanceSparkline(); as spark) {
        <apx-chart
          class="shrink-0 -mb-1 -mr-2"
          [series]="spark.series!"
          [chart]="spark.chart!"
          [colors]="spark.colors!"
          [stroke]="spark.stroke!"
          [xaxis]="spark.xaxis!"
          [yaxis]="spark.yaxis!"
          [grid]="spark.grid!"
          [tooltip]="spark.tooltip!"
        />
      }
    </div>
  </z-card>
</div>
